<div class="client-form-container">
  <p-card header="Client Registration Form">
    <form [formGroup]="clientForm" (ngSubmit)="handleFormSubmit()" class="p-fluid">
      <div class="form-grid">
        <!-- Name Field -->
        <div class="field">
        <p-floatlabel variant="on">
          <label for="name">Name *</label>
          <input
            id="name"
            type="text"
            pInputText
            formControlName="name"
            [class.ng-invalid]="isFieldInvalid('name')"
            [class.ng-dirty]="isFieldInvalid('name')"
          />
        </p-floatlabel>
        <small class="error-message" *ngIf="isFieldInvalid('name')">
          {{ getErrorMessage('name') }}
        </small>
      </div>

        <!-- Email Field -->
        <div class="field">
        <p-floatlabel variant="on">
          <label for="email">Email *</label>
          <input
            id="email"
            type="email"
            pInputText
            formControlName="email"
            [class.ng-invalid]="isFieldInvalid('email')"
            [class.ng-dirty]="isFieldInvalid('email')"
          />
        </p-floatlabel>
          <small class="error-message" *ngIf="isFieldInvalid('email')">
            {{ getErrorMessage('email') }}
          </small>
        </div>

        <!-- Phone Field -->
        <div class="field">
        <p-floatlabel variant="on">
          <label for="phone">Phone *</label>
          <input
            id="phone"
            type="text"
            pInputText
            formControlName="phone"
            [class.ng-invalid]="isFieldInvalid('phone')"
            [class.ng-dirty]="isFieldInvalid('phone')"
          />
        </p-floatlabel>
          <small class="error-message" *ngIf="isFieldInvalid('phone')">
            {{ getErrorMessage('phone') }}
          </small>
        </div>

        <!-- Client Type Dropdown -->
        <div class="field">
          <p-floatlabel class="w-full md:w-56" variant="on">
						<p-select 
						inputId="clientType" 
						[options]="clientTypes" 
						formControlName="clientType"
						optionLabel="label" 
						optionValue="value"
						/>
						<label for="clientType">Client Type *</label>
          </p-floatlabel>
            <small class="error-message" *ngIf="isFieldInvalid('clientType')">
              {{ getErrorMessage('clientType') }}
            </small>
        </div>

        <!-- Bank Balance Field -->
        <div class="field">
          <p-floatlabel variant="on">
            <p-inputNumber
            inputId="bankBalance"
            formControlName="bankBalance"
            mode="currency"
            currency="USD"
            locale="en-US"
            />
            <label for="bankBalance">Bank Balance *</label>
          </p-floatlabel>
          <small class="error-message" *ngIf="isFieldInvalid('bankBalance')">
            {{ getErrorMessage('bankBalance') }}
          </small>
        </div>

        <!-- Outstanding Loan Field -->
        <div class="field">
          <p-floatlabel variant="on">
            <p-inputNumber
            inputId="outstandingLoan"
            formControlName="outstandingLoan"
            mode="currency"
            currency="USD"
            locale="en-US"
            />
            <label for="outstandingLoan">Outstanding Loan</label>
          </p-floatlabel>
          <small class="error-message" *ngIf="isFieldInvalid('outstandingLoan')">
            {{ getErrorMessage('outstandingLoan') }}
          </small>
        </div>

        <!-- Registration Date Field -->
        <div class="field">
				  <p-floatlabel variant="on">
            <p-datepicker  
              inputId="registrationDate" 
              formControlName="registrationDate"
              showIcon 
              iconDisplay="input"
              dateFormat="dd/mm/yy"
            />
            <label for="registrationDate">Registration Date *</label>
          </p-floatlabel>
          <small class="error-message" *ngIf="isFieldInvalid('registrationDate')">
            {{ getErrorMessage('registrationDate') }}
          </small>
        </div>

        <!-- Is Active Checkbox -->
        <div class="field checkbox-field">
          <label for="isActive" style="margin: 0 10px 0 0;">Active</label>
          <p-checkbox
            inputId="isActive"
            formControlName="isActive"
            [binary]="true"
            label="Is Active"
          />
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <p-button
          label="Submit"
          icon="pi pi-check"
          type="submit"
          [disabled]="clientForm.invalid"
        ></p-button>
        <p-button
          label="Reset"
          icon="pi pi-refresh"
          type="button"
          severity="secondary"
          (onClick)="handleReset()"
        ></p-button>
      </div>
    </form>
  </p-card>
</div>
